flag = -pedantic-errors -std=c++11
main = maintest

$(main): $(main).o keyboard.o draw.o format.o player.o maps.o window.o Hero.o menu.o
	g++ -o $@ $(flag) $^

draw.o: draw.cpp draw.h player.h format.h
	g++ $(flag) -c $< -o $@

format.o: format.cpp format.h
	g++ $(flag) -c $< -o $@

player.o: player.cpp player.h
	g++ $(flag) -c $< -o $@

keyboard.o: keyboard.cpp keyboard.h
	g++ $(flag) -c $< -o $@

maps.o: maps.cpp maps.h
	g++ $(flag) -c $< -o $@

menu.o: menu.cpp menu.h	format.h
	g++ $(flag) -c $< -o $@
	
window.o: window.cpp window.h keyboard.h draw.h maps.h
	g++ $(flag) -c $< -o $@

Hero.o: Hero.cpp Hero.h keyboard.h draw.h maps.h window.h
	g++ $(flag) -c $< -o $@		

$(main).o: $(main).cpp $(main).h menu.h Hero.h
	g++ $(flag) -c $< -o $@	

clean:
	rm -rf *.o $(main)

test:
	./$(main)

.PHONY: clean, test
